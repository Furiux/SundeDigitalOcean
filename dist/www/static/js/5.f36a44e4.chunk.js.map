{"version":3,"sources":["pages/Login.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/cookie/index.js","../node_modules/universal-cookie/es6/utils.js","../node_modules/universal-cookie/es6/Cookies.js","../node_modules/universal-cookie/es6/index.js"],"names":["connect","state","loggedIn","users","fetching","isFetching","array","dispatch","loginUsers","user","UserActions","props","cookies","Cookies","useState","correo","clave","setState","InputChange","e","target","name","value","className","uk-grid","uk-height-viewport","class","uk-alert","_id","set","path","to","for","type","onChange","onClick","preventDefault","alert","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","length","err","TypeError","exports","parse","str","options","obj","opt","pairs","split","pairSplitRegExp","dec","decode","pair","eq_idx","indexOf","key","substr","trim","val","slice","tryDecode","serialize","enc","encode","fieldContentRegExp","test","maxAge","isNaN","Error","Math","floor","domain","expires","toUTCString","httpOnly","secure","sameSite","toLowerCase","decodeURIComponent","encodeURIComponent","readCookie","cleanValue","cleanupCookieValue","doNotParse","isParsingCookie","JSON","objectAssign","require","_this","this","changeListeners","HAS_DOCUMENT_COOKIE","cookie","parseCookies","Promise","document","catch","_updateBrowserValues","parseOptions","_emitChange","params","get","getAll","result","name_1","_a","stringify","remove","finalOptions","Date","addChangeListener","callback","removeChangeListener","idx","splice"],"mappings":"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","file":"static/js/5.f36a44e4.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nimport Cookies from \"universal-cookie\";\r\n\r\nimport UserActions from \"../redux/actions/usersActions\";\r\n\r\nconst Login = (props) => {\r\n\r\n  const cookies = new Cookies();\r\n\r\n  const [state, setState] = useState({\r\n    correo: \"\",\r\n    clave: \"\",\r\n  });\r\n\r\n  const InputChange = e => {\r\n    setState({\r\n      ...state,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const SubmitData = e => {\r\n    e.preventDefault();\r\n    const user = {\r\n      correo: state.correo,\r\n      clave: state.clave,\r\n    };\r\n    \r\n    if (!user.correo || !user.clave) {\r\n      alert(\"Completar todos los campos obligatorios para poder Ingresar\")\r\n    } else {     \r\n      props.loginUsers(user)\r\n    }\r\n  }\r\n\r\n  return (\r\n\r\n      <div className=\"uk-container uk-container-xsmall\">\r\n        <div\r\n          className=\"uk-grid-collapse uk-child-width-expand@s uk-grid\"\r\n          uk-grid=\"true\"\r\n          uk-height-viewport=\"expand: true\"\r\n        >\r\n          <div className=\"uk-margin-auto-vertical\">\r\n            \r\n            <h1 className=\"uk-text-center\">Ingresar</h1>\r\n\r\n            {\r\n              props.array &&\r\n              <div class=\"uk-grid-small uk-child-width-expand@s uk-margin\" uk-grid=\"true\">\r\n                <div>\r\n                  <div class=\"uk-alert-info\" uk-alert=\"true\">\r\n                    <p>{props.array}</p>\r\n                  </div>\r\n                </div>\r\n              </div> \r\n            \r\n            }\r\n\r\n            {\r\n              props.loggedIn && props.array._id && \r\n                (\r\n                cookies.set(\"_s\", {\r\n                  path: \"/\",\r\n                }),\r\n                \r\n                <Redirect to=\"/\" />\r\n                )\r\n            }\r\n\r\n              <form className=\"uk-form-stacked\">\r\n\r\n                <div className=\"uk-margin\">\r\n                    <label className=\"uk-form-label\" for=\"form-stacked-text\">Correo Electrónico</label>\r\n                    <div className=\"uk-form-controls\">\r\n                        <input className=\"uk-input\" type=\"email\" name=\"correo\" onChange={InputChange}/>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"uk-margin\">\r\n                    <label className=\"uk-form-label\" for=\"form-stacked-text\">Contraseña</label>\r\n                    <div className=\"uk-form-controls\">\r\n                        <input className=\"uk-input\" type=\"password\" name=\"clave\" onChange={InputChange} />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"uk-margin\">\r\n                  <button type=\"button\" className=\"uk-button uk-button-primary uk-align-right\" onClick={SubmitData}>\r\n                    Ingresar\r\n                  </button>\r\n                </div>\r\n\r\n              </form>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    \r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    loginUsers: (user) => { dispatch(UserActions(user)) }\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedIn: state.users.loggedIn,\r\n    fetching: state.users.isFetching,\r\n    array: state.users.array,\r\n  };\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\nvar pairSplitRegExp = /; */;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(pairSplitRegExp);\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var eq_idx = pair.indexOf('=');\n\n    // skip things that don't look like key=value\n    if (eq_idx < 0) {\n      continue;\n    }\n\n    var key = pair.substr(0, eq_idx).trim()\n    var val = pair.substr(++eq_idx, pair.length).trim();\n\n    // quoted values\n    if ('\"' == val[0]) {\n      val = val.slice(1, -1);\n    }\n\n    // only assign once\n    if (undefined == obj[key]) {\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n    if (isNaN(maxAge)) throw new Error('maxAge should be a Number');\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","import * as cookie from 'cookie';\r\nexport function hasDocumentCookie() {\r\n    // Can we get/set cookies on document.cookie?\r\n    return typeof document === 'object' && typeof document.cookie === 'string';\r\n}\r\nexport function cleanCookies() {\r\n    document.cookie.split(';').forEach(function (c) {\r\n        document.cookie = c\r\n            .replace(/^ +/, '')\r\n            .replace(/=.*/, '=;expires=' + new Date().toUTCString() + ';path=/');\r\n    });\r\n}\r\nexport function parseCookies(cookies, options) {\r\n    if (typeof cookies === 'string') {\r\n        return cookie.parse(cookies, options);\r\n    }\r\n    else if (typeof cookies === 'object' && cookies !== null) {\r\n        return cookies;\r\n    }\r\n    else {\r\n        return {};\r\n    }\r\n}\r\nexport function isParsingCookie(value, doNotParse) {\r\n    if (typeof doNotParse === 'undefined') {\r\n        // We guess if the cookie start with { or [, it has been serialized\r\n        doNotParse =\r\n            !value || (value[0] !== '{' && value[0] !== '[' && value[0] !== '\"');\r\n    }\r\n    return !doNotParse;\r\n}\r\nexport function readCookie(value, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var cleanValue = cleanupCookieValue(value);\r\n    if (isParsingCookie(cleanValue, options.doNotParse)) {\r\n        try {\r\n            return JSON.parse(cleanValue);\r\n        }\r\n        catch (e) {\r\n            // At least we tried\r\n        }\r\n    }\r\n    // Ignore clean value if we failed the deserialization\r\n    // It is not relevant anymore to trim those values\r\n    return value;\r\n}\r\nfunction cleanupCookieValue(value) {\r\n    // express prepend j: before serializing a cookie\r\n    if (value && value[0] === 'j' && value[1] === ':') {\r\n        return value.substr(2);\r\n    }\r\n    return value;\r\n}\r\n","import * as cookie from 'cookie';\r\nimport { hasDocumentCookie, parseCookies, readCookie } from './utils';\r\n// We can't please Rollup and TypeScript at the same time\r\n// Only way to make both of them work\r\nvar objectAssign = require('object-assign');\r\nvar Cookies = /** @class */ (function () {\r\n    function Cookies(cookies, options) {\r\n        var _this = this;\r\n        this.changeListeners = [];\r\n        this.HAS_DOCUMENT_COOKIE = false;\r\n        this.cookies = parseCookies(cookies, options);\r\n        new Promise(function () {\r\n            _this.HAS_DOCUMENT_COOKIE = hasDocumentCookie();\r\n        }).catch(function () { });\r\n    }\r\n    Cookies.prototype._updateBrowserValues = function (parseOptions) {\r\n        if (!this.HAS_DOCUMENT_COOKIE) {\r\n            return;\r\n        }\r\n        this.cookies = cookie.parse(document.cookie, parseOptions);\r\n    };\r\n    Cookies.prototype._emitChange = function (params) {\r\n        for (var i = 0; i < this.changeListeners.length; ++i) {\r\n            this.changeListeners[i](params);\r\n        }\r\n    };\r\n    Cookies.prototype.get = function (name, options, parseOptions) {\r\n        if (options === void 0) { options = {}; }\r\n        this._updateBrowserValues(parseOptions);\r\n        return readCookie(this.cookies[name], options);\r\n    };\r\n    Cookies.prototype.getAll = function (options, parseOptions) {\r\n        if (options === void 0) { options = {}; }\r\n        this._updateBrowserValues(parseOptions);\r\n        var result = {};\r\n        for (var name_1 in this.cookies) {\r\n            result[name_1] = readCookie(this.cookies[name_1], options);\r\n        }\r\n        return result;\r\n    };\r\n    Cookies.prototype.set = function (name, value, options) {\r\n        var _a;\r\n        if (typeof value === 'object') {\r\n            value = JSON.stringify(value);\r\n        }\r\n        this.cookies = objectAssign({}, this.cookies, (_a = {}, _a[name] = value, _a));\r\n        if (this.HAS_DOCUMENT_COOKIE) {\r\n            document.cookie = cookie.serialize(name, value, options);\r\n        }\r\n        this._emitChange({ name: name, value: value, options: options });\r\n    };\r\n    Cookies.prototype.remove = function (name, options) {\r\n        var finalOptions = (options = objectAssign({}, options, {\r\n            expires: new Date(1970, 1, 1, 0, 0, 1),\r\n            maxAge: 0\r\n        }));\r\n        this.cookies = objectAssign({}, this.cookies);\r\n        delete this.cookies[name];\r\n        if (this.HAS_DOCUMENT_COOKIE) {\r\n            document.cookie = cookie.serialize(name, '', finalOptions);\r\n        }\r\n        this._emitChange({ name: name, value: undefined, options: options });\r\n    };\r\n    Cookies.prototype.addChangeListener = function (callback) {\r\n        this.changeListeners.push(callback);\r\n    };\r\n    Cookies.prototype.removeChangeListener = function (callback) {\r\n        var idx = this.changeListeners.indexOf(callback);\r\n        if (idx >= 0) {\r\n            this.changeListeners.splice(idx, 1);\r\n        }\r\n    };\r\n    return Cookies;\r\n}());\r\nexport default Cookies;\r\n","import Cookies from './Cookies';\r\nexport default Cookies;\r\n"],"sourceRoot":""}